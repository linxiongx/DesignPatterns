观察者模式的优缺点
优点
解耦性强：观察者模式实现了主题(Subject)和观察者(Observer)之间的松耦合。主题只需要知道观察者实现了特定接口,而不需要了解观察者的具体类型或实现细节。
支持广播通信：一个主题可以同时通知多个观察者,实现了一对多的依赖关系,当主题状态改变时,所有依赖它的观察者都会自动收到通知并更新。
符合开闭原则：可以在不修改主题代码的情况下增加新的观察者,也可以独立地修改主题和观察者,提高了系统的可扩展性和灵活性。
# 动态关联：可以在运行时动态地建立或解除主题和观察者之间的关联关系,使系统更加灵活。
缺点
# 性能问题：如果一个主题有大量观察者,通知所有观察者会消耗较多时间。如果观察者的更新操作比较复杂,可能会影响整体性能。
循环依赖风险：如果观察者和主题之间存在循环依赖,可能导致系统崩溃。例如,观察者的更新操作触发了主题的变化,而主题的变化又通知观察者更新。
# 通知顺序不确定：观察者接收通知的顺序通常是不确定的,如果某些业务逻辑依赖特定的执行顺序,可能会出现问题。
内存泄漏风险：如果忘记注销观察者,主题会一直持有观察者的引用,可能导致观察者无法被垃圾回收,造成内存泄漏。
调试困难：由于观察者模式涉及多个对象之间的间接调用,当系统出现问题时,可能难以追踪问题的根源。